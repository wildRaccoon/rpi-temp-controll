# –ü–ª–∞–Ω –ø—Ä–æ–≥—Ä–∞–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –¥–ª—è Raspberry Pi

## üìã –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å
–ü—Ä–æ–≥—Ä–∞–º–∞ –¥–ª—è Raspberry Pi, —è–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é—î —Å–∏—Å—Ç–µ–º—É –æ–ø–∞–ª–µ–Ω–Ω—è –∑ —Ç–≤–µ—Ä–¥–æ–ø–∞–ª–∏–≤–Ω–∏–º –∫–æ—Ç–ª–æ–º —Ç–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–æ–º. –ó—á–∏—Ç—É—î —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∑ –∫—ñ–ª—å–∫–æ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–µ—Ä—É—î —Ä–æ–∑—É–º–Ω–æ—é —Ä–æ–∑–µ—Ç–∫–æ—é (Sonoff S60 –∑ –ø—Ä–æ—à–∏–≤–∫–æ—é Tasmota) –¥–ª—è –≤–∫–ª—é—á–µ–Ω–Ω—è —Ç–µ–ø–ª–æ–≥–æ –ø—ñ–¥–ª–æ–≥–∏ –∑ –º–µ—Ç–æ—é –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–µ–ø–ª–∞.

**–°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:** üü° **–ê–¥–∞–ø—Ç–∞—Ü—ñ—è –¥–ª—è Sonoff S60 –∑ Tasmota (~85%)**

‚úÖ **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:**
- –í—Å—ñ –º–æ–¥—É–ª—ñ –¥–∞—Ç—á–∏–∫—ñ–≤ (DS18B20, MAX31855)
- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- REST API —Å–µ—Ä–≤–µ—Ä
- –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏
- –ü–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è Sonoff S60

‚¨ú **–ü–æ—Ç—Ä—ñ–±–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è –¥–ª—è Sonoff S60:**
- –°—Ç–≤–æ—Ä–∏—Ç–∏ `controllers/sonoff_controller.py` –¥–ª—è Tasmota HTTP API
- –û–Ω–æ–≤–∏—Ç–∏ `main.py` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Sonoff –∑–∞–º—ñ—Å—Ç—å Tapo
- –°—Ç–≤–æ—Ä–∏—Ç–∏ `tests/test_sonoff.py`
- –û–Ω–æ–≤–∏—Ç–∏ `requirements.txt` (requests –∑–∞–º—ñ—Å—Ç—å PyTapo)
- –û–Ω–æ–≤–∏—Ç–∏ `config.example.yaml`
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—ñ

## üéØ –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### 1. –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –¥–∞—Ç—á–∏–∫—ñ–≤ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
- **DS18B20** (1-Wire) - 3 –¥–∞—Ç—á–∏–∫–∏:
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–≤–µ—Ä–¥–æ–ø–∞–ª–∏–≤–Ω–æ–≥–æ –∫–æ—Ç–ª–∞
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∑–Ω–∏–∑—É —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∑–≤–µ—Ä—Ö—É —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞
  - **–í—Å—ñ 3 –¥–∞—Ç—á–∏–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–æ –æ–¥–Ω—ñ—î—ó 1-Wire —à–∏–Ω–∏ (GPIO 4, Pin 7)**
  - –ö–æ–∂–µ–Ω –¥–∞—Ç—á–∏–∫ –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –¥–ª—è —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è
  - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: VCC‚Üí3.3V, DATA‚ÜíGPIO4, GND‚ÜíGND, —Ä–µ–∑–∏—Å—Ç–æ—Ä 4.7–∫–û–º
- **MAX31855** (SPI) - 1 –¥–∞—Ç—á–∏–∫:
  - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–∞—Ä—è (—Ç–µ—Ä–º–æ–ø–∞—Ä–∞ —Ç–∏–ø—É K)
  - –ü—ñ–¥–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ SPI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - CS –ø—ñ–Ω –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º GPIO 8)

### 2. –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑—É–º–Ω–æ—é —Ä–æ–∑–µ—Ç–∫–æ—é Sonoff S60 –∑ Tasmota (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞)
- –í–∫–ª—é—á–µ–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–Ω—É —Å–∏—Å—Ç–µ–º–∏ –æ–ø–∞–ª–µ–Ω–Ω—è
- **–£–º–æ–≤–∏ –í–ö–õ–Æ–ß–ï–ù–ù–Ø —Ä–æ–∑–µ—Ç–∫–∏ (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞):**
  1. –ö–æ—Ç–µ–ª —Ç—ñ–ª—å–∫–∏ –∑–∞—Ç–æ–ø–∏–ª–∏ (–ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É)
  2. –ö–æ—Ç–µ–ª –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ (–±–µ–∑–ø–µ–∫–∞ - –∑–∞–±–∏—Ä–∞—Ç–∏ —Ç–µ–ø–ª–æ)
  3. –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ (–±–µ–∑–ø–µ–∫–∞ - –∑–∞–±–∏—Ä–∞—Ç–∏ —Ç–µ–ø–ª–æ)
- **–£–º–æ–≤–∏ –í–ò–ú–ö–ù–ï–ù–ù–Ø —Ä–æ–∑–µ—Ç–∫–∏:**
  1. –ë–µ–∑–ø–µ—á–Ω—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∫–æ—Ç–ª–∞ —Ç–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞
  2. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–∞—Ä—è –¥–æ—Å–∏—Ç—å –Ω–∏–∑—å–∫–∞ (–¥—Ä–æ–≤–∞ –ø–µ—Ä–µ–≥–æ—Ä—ñ–ª–∏)
- –ì—ñ—Å—Ç–µ—Ä–µ–∑–∏—Å –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è —á–∞—Å—Ç–æ–≥–æ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è

### 3. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É –ª–æ–∫–∞–ª—å–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö (SQLite)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∑ —É—Å—ñ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤ –∑ —á–∞—Å–æ–≤–∏–º–∏ –º—ñ—Ç–∫–∞–º–∏ (–≤–∫–ª—é—á–Ω–æ –∑ –¥–∏–º–æ—Ö–æ–¥–æ–º)
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –¥–∏–º–æ—Ö–æ–¥—É: –∑–Ω–∞—á–µ–Ω–Ω—è >300¬∞C –≤–≤–∞–∂–∞—é—Ç—å—Å—è –ø–æ–º–∏–ª–∫–æ—é –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏ –∑ –ø—Ä–∏—á–∏–Ω–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å—Ç–∞—Ä—à–µ 1 —Ç–∏–∂–Ω—è
- –î–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ –∑–∞–ø–∏—Å—É—é—Ç—å—Å—è —Ç–∞ –∑—á–∏—Ç—É—é—Ç—å—Å—è (–Ω–µ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è)

### 4. REST API –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- –ü—Ä–æ—Å—Ç–∏–π GET API –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—ñ–≤ —Ç–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏:
  - `/api/status` - –∑–∞–≥–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏
  - `/api/sensors` - —Å—Ç–∞—Ç—É—Å–∏ –≤—Å—ñ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤
  - `/api/sensor/{sensor_id}` - —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
  - `/api/outlet` - —Å—Ç–∞—Ç—É—Å —Ä–æ–∑–µ—Ç–∫–∏ Sonoff S60
  - `/api/system` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏ –æ–ø–∞–ª–µ–Ω–Ω—è
  - `/api/history/temperatures` - —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
  - `/api/history/events` - —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø–æ–¥—ñ—ó (–≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è)
- JSON —Ñ–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### 5. –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (HTML)
- **–°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É** (`/` –∞–±–æ `/status.html`):
  - –ü–æ—Ç–æ—á–Ω—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –≤—Å—ñ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤
  - –°—Ç–∞—Ç—É—Å —Ä–æ–∑–µ—Ç–∫–∏ (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞)
  - –ü—Ä–∏—á–∏–Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É
  - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
  
- **–°—Ç–æ—Ä—ñ–Ω–∫–∞ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤** (`/charts.html`):
  - –ì—Ä–∞—Ñ—ñ–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∑–∞ —á–∞—Å–æ–º –¥–ª—è –≤—Å—ñ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤ (–≤–∫–ª—é—á–Ω–æ –∑ –¥–∏–º–æ—Ö–æ–¥–æ–º)
  - –õ—é–¥—Å—å–∫—ñ –Ω–∞–∑–≤–∏ –¥–∞—Ç—á–∏–∫—ñ–≤ –Ω–∞ –≥—Ä–∞—Ñ—ñ–∫–∞—Ö –∑–∞–º—ñ—Å—Ç—å —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö ID
  - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–±–æ—Ä—É –ø–µ—Ä—ñ–æ–¥—É (3, 6, 12, 24 –≥–æ–¥–∏–Ω–∏)
  - –ì—Ä–∞—Ñ—ñ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–æ–∑–µ—Ç–∫–∏ (–≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è)
  - –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É —Ä–æ–∑–µ—Ç–∫–∏
  - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Chart.js –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥

### 6. –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ø—É—Å–∫—É –±–µ–∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞—Ç—á–∏–∫—ñ–≤ —Ç–∞ —Ä–æ–∑–µ—Ç–∫–∏
- –°–∏–º—É–ª—è—Ü—ñ—è –¥–∞–Ω–∏—Ö –∑ –¥–∞—Ç—á–∏–∫—ñ–≤ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ª–æ–≥—ñ–∫–∏
- –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–æ—é (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è)
- –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ä—ñ–∑–Ω–∏—Ö —Å—Ç–∞–Ω—ñ–≤ —Å–∏—Å—Ç–µ–º–∏
- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞–ø—É—Å–∫—É –Ω–∞ –±—É–¥—å-—è–∫–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ (–Ω–µ —Ç—ñ–ª—å–∫–∏ Raspberry Pi)

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

1. ‚úÖ **SensorManager** - –º–æ–¥—É–ª—å –¥–ª—è –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –¥–∞—Ç—á–∏–∫—ñ–≤
   - ‚úÖ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –¥–∞—Ç—á–∏–∫—ñ–≤ (`sensors/base.py`)
   - ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É –¥–∞—Ç—á–∏–∫–∞ (`ds18b20.py`, `max31855.py`)
   - ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏
   - ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–∞—Ç—á–∏–∫—ñ–≤ (`sensors/sensor_manager.py`)

2. ‚úÖ **SonoffController** - –º–æ–¥—É–ª—å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–æ—é Sonoff S60 –∑ Tasmota
   - ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–æ–∑–µ—Ç–∫–∏ —á–µ—Ä–µ–∑ Tasmota HTTP API (`controllers/sonoff_controller.py`)
   - ‚úÖ –ú–µ—Ç–æ–¥–∏ –≤–∫–ª—é—á–µ–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è
   - ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
   - ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ MQTT (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
   - ‚úÖ –¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä (`tests/test_sonoff.py`)

3. ‚úÖ **TemperatureController** - –æ—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é
   - ‚úÖ –ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö –∑ —É—Å—ñ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤ (–∫–æ—Ç–µ–ª, —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä –∑–Ω–∏–∑—É/–∑–≤–µ—Ä—Ö—É, –¥–∏–º–∞—Ä)
   - ‚úÖ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞–Ω—É —Å–∏—Å—Ç–µ–º–∏ (–∑–∞—Ç–æ–ø–ª–µ–Ω–Ω—è, —Ä–æ–±–æ—Ç–∞, –∑–∞—Ç—É—Ö–∞–Ω–Ω—è)
   - ‚úÖ –ü—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω—å –ø—Ä–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–æ—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
   - ‚úÖ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –≥—ñ—Å—Ç–µ—Ä–µ–∑–∏—Å—É
   - ‚úÖ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É (—á–∏ —â–æ–π–Ω–æ –∑–∞—Ç–æ–ø–∏–ª–∏)

4. ‚úÖ **Database** - –º–æ–¥—É–ª—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
   - ‚úÖ SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è (`database/db.py`)
   - ‚úÖ –¢–∞–±–ª–∏—Ü—ñ:
     * ‚úÖ `temperature_readings` - –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∑ –¥–∞—Ç—á–∏–∫—ñ–≤ (–≤–∫–ª—é—á–Ω–æ –∑ –¥–∏–º–æ—Ö–æ–¥–æ–º)
     * ‚úÖ `outlet_events` - –ø–æ–¥—ñ—ó –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏
   - ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–æ—Ö–æ–¥—É >300¬∞C –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è (–ø–æ–º–∏–ª–∫–∞ –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è)
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å—Ç–∞—Ä—à–µ 1 —Ç–∏–∂–Ω—è
   - ‚úÖ –¢—ñ–ª—å–∫–∏ INSERT —Ç–∞ SELECT –æ–ø–µ—Ä–∞—Ü—ñ—ó (–±–µ–∑ UPDATE)
   - ‚úÖ –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (`database/models.py`)

5. ‚úÖ **DataLogger** - –º–æ–¥—É–ª—å –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
   - ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É –±–∞–∑—É –¥–∞–Ω–∏—Ö (—ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ main.py)
   - ‚úÖ –ó–∞–ø–∏—Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑—á–∏—Ç—É–≤–∞–Ω–Ω—ñ
   - ‚úÖ –ó–∞–ø–∏—Å –ø–æ–¥—ñ–π –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞–Ω—É —Ä–æ–∑–µ—Ç–∫–∏
   - ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ —É —Ñ–∞–π–ª (`utils/logger.py`)

6. ‚úÖ **ConfigManager** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
   - ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∑ —Ñ–∞–π–ª—É (`utils/config_manager.py`)
   - ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
   - ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É

7. ‚úÖ **APIServer** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è REST API —Ç–∞ HTML
   - ‚úÖ Flask —Å–µ—Ä–≤–µ—Ä (`api/server.py`)
   - ‚úÖ –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—ñ–≤ —Ç–∞ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö
   - ‚úÖ API –ø–æ–≤–µ—Ä—Ç–∞—î –ª—é–¥—Å—å–∫—ñ –Ω–∞–∑–≤–∏ –¥–∞—Ç—á–∏–∫—ñ–≤ –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
   - ‚úÖ –û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö HTML —Å—Ç–æ—Ä—ñ–Ω–æ–∫
   - ‚úÖ –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –æ—Å–Ω–æ–≤–Ω–∏–º —Ü–∏–∫–ª–æ–º

8. ‚úÖ **TestMode** - –º–æ–¥—É–ª—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É
   - ‚úÖ –°–∏–º—É–ª—è—Ü—ñ—è –¥–∞—Ç—á–∏–∫—ñ–≤ (`tests/test_sensors.py`)
   - ‚úÖ –°–∏–º—É–ª—è—Ü—ñ—è —Ä–æ–∑–µ—Ç–∫–∏ Sonoff (`tests/test_sonoff.py`)
   - ‚úÖ –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó (normal, critical, cooling, startup)
   - ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ª–æ–≥—ñ–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é

9. ‚úÖ **Main** - –≥–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –ø—Ä–æ–≥—Ä–∞–º–∏
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
   - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ–∂–∏–º—É —Ä–æ–±–æ—Ç–∏ (production/test)
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
   - –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ–∫—Ä–µ–º–æ–º—É –ø–æ—Ç–æ—Ü—ñ
   - –ì–æ–ª–æ–≤–Ω–∏–π —Ü–∏–∫–ª –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
   - –û–±—Ä–æ–±–∫–∞ —Å–∏–≥–Ω–∞–ª—ñ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
tapo/
‚îú‚îÄ‚îÄ main.py                 # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –ø—Ä–æ–≥—Ä–∞–º–∏
‚îú‚îÄ‚îÄ config.yaml            # –§–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ tapo-temperature.service  # Systemd —Å–µ—Ä–≤—ñ—Å —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ sensors/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ base.py           # –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–∞—Ç—á–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ ds18b20.py        # –î–∞—Ç—á–∏–∫ DS18B20 (1-Wire)
‚îÇ   ‚îî‚îÄ‚îÄ max31855.py       # –î–∞—Ç—á–∏–∫ MAX31855 (SPI, —Ç–µ—Ä–º–æ–ø–∞—Ä–∞)
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ sonoff_controller.py    # –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–æ—é Sonoff S60 —á–µ—Ä–µ–∑ Tasmota
‚îÇ   ‚îî‚îÄ‚îÄ temperature_controller.py  # –õ–æ–≥—ñ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ server.py         # REST API —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ db.py            # –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö SQLite
‚îÇ   ‚îî‚îÄ‚îÄ models.py        # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îú‚îÄ‚îÄ static/          # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ (CSS, JS)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ style.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ charts.js    # Chart.js –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ templates/       # HTML —à–∞–±–ª–æ–Ω–∏
‚îÇ       ‚îú‚îÄ‚îÄ status.html  # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É
‚îÇ       ‚îî‚îÄ‚îÄ charts.html  # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_sensors.py       # –¢–µ—Å—Ç–æ–≤—ñ –¥–∞—Ç—á–∏–∫–∏ (—Å–∏–º—É–ª—è—Ü—ñ—è)
‚îÇ   ‚îú‚îÄ‚îÄ test_sonoff.py        # –¢–µ—Å—Ç–æ–≤–∞ —Ä–æ–∑–µ—Ç–∫–∞ Sonoff (—Å–∏–º—É–ª—è—Ü—ñ—è)
‚îÇ   ‚îî‚îÄ‚îÄ scenarios.py          # –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config_manager.py     # –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
‚îÇ   ‚îî‚îÄ‚îÄ logger.py             # –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ logs/                     # –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è –ª–æ–≥—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îî‚îÄ‚îÄ data/                     # –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
    ‚îî‚îÄ‚îÄ temperature.db        # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:
- `requests` - –¥–ª—è HTTP –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ Tasmota API
- `paho-mqtt` - –¥–ª—è MQTT –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- `w1thermsensor` - –¥–ª—è –¥–∞—Ç—á–∏–∫—ñ–≤ DS18B20 (1-Wire)
- `adafruit-circuitpython-max31855` - –¥–ª—è –¥–∞—Ç—á–∏–∫–∞ MAX31855 (SPI, —Ç–µ—Ä–º–æ–ø–∞—Ä–∞)
- `spidev` - –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ SPI (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è MAX31855)
- `pyyaml` - –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
- `flask` –∞–±–æ `fastapi` - –¥–ª—è REST API —Å–µ—Ä–≤–µ—Ä–∞ —Ç–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- `sqlite3` - –≤–±—É–¥–æ–≤–∞–Ω–∞ –≤ Python –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- `gunicorn` - –¥–ª—è –∑–∞–ø—É—Å–∫—É –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### –ê–ø–∞—Ä–∞—Ç–Ω—ñ –≤–∏–º–æ–≥–∏:
- Raspberry Pi (–±—É–¥—å-—è–∫–∞ –º–æ–¥–µ–ª—å)
- –î–∞—Ç—á–∏–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏:
  - **3x DS18B20** - —Ü–∏—Ñ—Ä–æ–≤–∏–π –¥–∞—Ç—á–∏–∫ (1-Wire), —Ä–µ–∑–∏—Å—Ç–æ—Ä 4.7 –∫–û–º:
    - 1 –¥–∞—Ç—á–∏–∫ –¥–ª—è –∫–æ—Ç–ª–∞
    - 1 –¥–∞—Ç—á–∏–∫ –¥–ª—è —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–∑–Ω–∏–∑—É)
    - 1 –¥–∞—Ç—á–∏–∫ –¥–ª—è —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–∑–≤–µ—Ä—Ö—É)
    - **–í—Å—ñ 3 –¥–∞—Ç—á–∏–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–æ –æ–¥–Ω—ñ—î—ó 1-Wire —à–∏–Ω–∏ (GPIO 4)**
    - –ö–æ–∂–µ–Ω –¥–∞—Ç—á–∏–∫ –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –¥–ª—è —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è
  - **1x MAX31855** - —Ç–µ—Ä–º–æ–ø–∞—Ä–∞ –∑ –ø—ñ–¥—Å–∏–ª—é–≤–∞—á–µ–º (SPI), —Ç–µ—Ä–º–æ–ø–∞—Ä–∞ —Ç–∏–ø—É K –¥–ª—è –¥–∏–º–∞—Ä—è
    - –ü—ñ–¥–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ SPI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    - CS (Chip Select) –ø—ñ–Ω –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- –†–æ–∑—É–º–Ω–∞ —Ä–æ–∑–µ—Ç–∫–∞ **Sonoff S60** –∑ –ø—Ä–æ—à–∏–≤–∫–æ—é **Tasmota** (–¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–µ–ø–ª–∏–º –ø—ñ–¥–ª–æ–≥–æ—é)
  - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ WiFi
  - –ö–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ HTTP API –∞–±–æ MQTT
- –î—Ä–æ—Ç–∏ —Ç–∞ —Ä–µ–∑–∏—Å—Ç–æ—Ä–∏ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–∞—Ç—á–∏–∫—ñ–≤

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–∞—Ç—á–∏–∫—ñ–≤:

**DS18B20 (1-Wire —à–∏–Ω–∞):**
- –í—Å—ñ 3 –¥–∞—Ç—á–∏–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ –¥–æ **GPIO 4** (—Ñ—ñ–∑–∏—á–Ω–∏–π –ø—ñ–Ω 7)
- VCC ‚Üí 3.3V (Pin 1)
- DATA ‚Üí GPIO 4 (Pin 7)
- GND ‚Üí GND (Pin 6)
- –ü—ñ–¥—Ç—è–≥—É—é—á–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä 4.7 –∫–û–º –º—ñ–∂ DATA —Ç–∞ VCC (–æ–¥–∏–Ω –Ω–∞ –≤—Å—é —à–∏–Ω—É)

**MAX31855 (SPI):**
- VCC ‚Üí 3.3V (Pin 1)
- GND ‚Üí GND (Pin 6)
- DIN ‚Üí MOSI (Pin 19, GPIO 10)
- DO ‚Üí MISO (Pin 21, GPIO 9)
- CLK ‚Üí SCLK (Pin 23, GPIO 11)
- CS ‚Üí GPIO –ø—ñ–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Pin 24, GPIO 8) - –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ config.yaml

–î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–∏–≤—ñ—Ç—å—Å—è –≤ [README.md](README.md)

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ü—Ä–∏–∫–ª–∞–¥ config.yaml:
```yaml
sensors:
  ds18b20:
    boiler:
      enabled: true
      device_id: "28-xxxxx"  # ID –¥–∞—Ç—á–∏–∫–∞ –∫–æ—Ç–ª–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è)
      name: "–ö–æ—Ç–µ–ª"
    accumulator_bottom:
      enabled: true
      device_id: "28-yyyyy"  # ID –¥–∞—Ç—á–∏–∫–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ –∑–Ω–∏–∑—É
      name: "–¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä (–Ω–∏–∑)"
    accumulator_top:
      enabled: true
      device_id: "28-zzzzz"  # ID –¥–∞—Ç—á–∏–∫–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ –∑–≤–µ—Ä—Ö—É
      name: "–¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä (–≤–µ—Ä—Ö)"
  max31855:
    chimney:
      enabled: true
      cs_pin: 8              # Chip Select –ø—ñ–Ω –¥–ª—è SPI (GPIO)
      spi_port: 0            # SPI –ø–æ—Ä—Ç (0 –∞–±–æ 1)
      spi_device: 0          # SPI –ø—Ä–∏—Å—Ç—Ä—ñ–π (–∑–∞–∑–≤–∏—á–∞–π 0)
      name: "–î–∏–º–∞—Ä"

sonoff:
  ip_address: "192.168.1.100"  # IP –∞–¥—Ä–µ—Å–∞ Sonoff S60 –∑ Tasmota
  # Tasmota –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î HTTP API –∞–±–æ MQTT

mqtt:  # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è MQTT –ø—ñ–¥—Ç—Ä–∏–º–∫–∏
  enabled: false
  broker: "192.168.1.50"
  port: 1883
  username: ""  # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
  password: ""  # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
  topic_prefix: "sonoff_s60"
  
control:
  # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –±–µ–∑–ø–µ–∫–∏ (–∫—Ä–∏—Ç–∏—á–Ω—ñ)
  boiler_critical_temp: 85.0      # –ö—Ä–∏—Ç–∏—á–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ—Ç–ª–∞ (¬∞C)
  accumulator_critical_temp: 80.0  # –ö—Ä–∏—Ç–∏—á–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (¬∞C)
  
  # –ë–µ–∑–ø–µ—á–Ω—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ (–Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞)
  boiler_safe_temp: 70.0          # –ë–µ–∑–ø–µ—á–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ—Ç–ª–∞ (¬∞C)
  accumulator_safe_temp: 65.0      # –ë–µ–∑–ø–µ—á–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (¬∞C)
  
  # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–∞—Ä—è (–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞—Ç—É—Ö–∞–Ω–Ω—è)
  chimney_low_temp: 100.0         # –ù–∏–∑—å–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–∞—Ä—è - –¥—Ä–æ–≤–∞ –ø–µ—Ä–µ–≥–æ—Ä—ñ–ª–∏ (¬∞C)
  
  # –ì—ñ—Å—Ç–µ—Ä–µ–∑–∏—Å
  hysteresis: 3.0                  # –ì—ñ—Å—Ç–µ—Ä–µ–∑–∏—Å –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è —á–∞—Å—Ç–æ–≥–æ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è (¬∞C)
  
  # –Ü–Ω—Ç–µ—Ä–≤–∞–ª–∏
  check_interval: 30               # –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (—Å–µ–∫—É–Ω–¥–∏)
  startup_duration: 300            # –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É "–∑–∞—Ç–æ–ø–∏–ª–∏" (—Å–µ–∫—É–Ω–¥–∏)
  
logging:
  enabled: true
  log_file: "logs/temperature.log"
  log_interval: 300        # –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ª–æ–≥—É–≤–∞–Ω–Ω—è (—Å–µ–∫—É–Ω–¥–∏)

database:
  enabled: true
  db_file: "data/temperature.db"  # –®–ª—è—Ö –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
  retention_days: 7        # –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤
  cleanup_interval: 3600   # –Ü–Ω—Ç–µ—Ä–≤–∞–ª –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö (—Å–µ–∫—É–Ω–¥–∏)

api:
  enabled: true
  host: "0.0.0.0"          # –ê–¥—Ä–µ—Å–∞ –¥–ª—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è
  port: 8080                # –ü–æ—Ä—Ç –¥–ª—è API —Ç–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
  debug: false              # –†–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

test_mode:
  enabled: false            # –£–≤—ñ–º–∫–Ω—É—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º
  scenario: "normal"        # –¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π: "normal", "critical", "cooling", "startup"
  # –¢–µ—Å—Ç–æ–≤—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ (—è–∫—â–æ scenario –Ω–µ –≤–∫–∞–∑–∞–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ü—ñ –∑–Ω–∞—á–µ–Ω–Ω—è)
  test_temperatures:
    boiler: 75.0
    accumulator_bottom: 68.0
    accumulator_top: 72.0
    chimney: 180.0
  # –ê–±–æ –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ –¥–ª—è —Å–∏–º—É–ª—è—Ü—ñ—ó –∑–º—ñ–Ω
  temperature_variation: true  # –î–æ–∑–≤–æ–ª–∏—Ç–∏ –≤–∞—Ä—ñ–∞—Ü—ñ—ó —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
  variation_range: 2.0         # –î—ñ–∞–ø–∞–∑–æ–Ω –≤–∞—Ä—ñ–∞—Ü—ñ—ó (¬∞C)
```

## üîÑ –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

1. **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
   - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–µ–∂–∏–º—É —Ä–æ–±–æ—Ç–∏ (production/test)
   - –Ø–∫—â–æ —Ç–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º:
     * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞—Ç—á–∏–∫—ñ–≤ (—Å–∏–º—É–ª—è—Ü—ñ—è)
     * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–æ—ó —Ä–æ–∑–µ—Ç–∫–∏ (—Å–∏–º—É–ª—è—Ü—ñ—è)
     * –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä—ñ—é
   - –Ø–∫—â–æ production —Ä–µ–∂–∏–º:
     * –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞—Ç—á–∏–∫—ñ–≤
     * –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–µ–∞–ª—å–Ω–æ—ó —Ä–æ–∑–µ—Ç–∫–∏ Sonoff S60 —á–µ—Ä–µ–∑ Tasmota HTTP API
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
   - –ó–∞–ø—É—Å–∫ REST API —Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ–∫—Ä–µ–º–æ–º—É –ø–æ—Ç–æ—Ü—ñ

2. **–ì–æ–ª–æ–≤–Ω–∏–π —Ü–∏–∫–ª:**
   - –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —É—Å—ñ—Ö –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–∞—Ç—á–∏–∫—ñ–≤:
     * –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ—Ç–ª–∞
     * –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–∑–Ω–∏–∑—É)
     * –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–∑–≤–µ—Ä—Ö—É)
     * –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–∞—Ä—è
   - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä —É –±–∞–∑—É –¥–∞–Ω–∏—Ö
   - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞–Ω—É —Å–∏—Å—Ç–µ–º–∏
   - –ü—Ä–∏–π–Ω—è—Ç—Ç—è —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞–Ω —Ä–æ–∑–µ—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ª–æ–≥—ñ–∫–∏ –±–µ–∑–ø–µ–∫–∏
   - –Ø–∫—â–æ —Å—Ç–∞–Ω —Ä–æ–∑–µ—Ç–∫–∏ –∑–º—ñ–Ω–∏–≤—Å—è - –∑–∞–ø–∏—Å –ø–æ–¥—ñ—ó —É –±–∞–∑—É –¥–∞–Ω–∏—Ö
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –¥–ª—è API
   - –õ–æ–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
   - –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
   
3. **–û—á–∏—â–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—Ñ–æ–Ω–æ–≤–∏–π –ø—Ä–æ—Ü–µ—Å):**
   - –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Å—Ç–∞—Ä—à–µ 1 —Ç–∏–∂–Ω—è
   - –í–∏–∫–æ–Ω–∞–Ω–Ω—è –æ—á–∏—â–µ–Ω–Ω—è –≤ –æ–∫—Ä–µ–º–æ–º—É –ø–æ—Ç–æ—Ü—ñ

3. **–õ–æ–≥—ñ–∫–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–æ—é (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞):**
   
   **–£–ú–û–í–ò –í–ö–õ–Æ–ß–ï–ù–ù–Ø (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞ –£–í–Ü–ú–ö–ù–£–¢–ò):**
   - –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω (–∫–æ—Ç–µ–ª —â–æ–π–Ω–æ –∑–∞—Ç–æ–ø–∏–ª–∏) - –ø–µ—Ä—à—ñ N —Ö–≤–∏–ª–∏–Ω –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É
   - –ê–ë–û —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ—Ç–ª–∞ >= (boiler_critical_temp - hysteresis)
   - –ê–ë–û —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–º–∞–∫—Å–∏–º—É–º –∑–Ω–∏–∑—É/–∑–≤–µ—Ä—Ö—É) >= (accumulator_critical_temp - hysteresis)
   
   **–£–ú–û–í–ò –í–ò–ú–ö–ù–ï–ù–ù–Ø (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞ –í–ò–ú–ö–ù–£–¢–ò):**
   - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ—Ç–ª–∞ < (boiler_safe_temp + hysteresis)
   - –Ü —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (–º–∞–∫—Å–∏–º—É–º –∑–Ω–∏–∑—É/–∑–≤–µ—Ä—Ö—É) < (accumulator_safe_temp + hysteresis)
   - –Ü —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–∏–º–∞—Ä—è < chimney_low_temp (–¥—Ä–æ–≤–∞ –ø–µ—Ä–µ–≥–æ—Ä—ñ–ª–∏)
   
   **–ì—ñ—Å—Ç–µ—Ä–µ–∑–∏—Å:**
   - –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω—ñ: –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è (–∫—Ä–∏—Ç–∏—á–Ω–∞_temp - hysteresis)
   - –ü—Ä–∏ –≤–∏–º–∫–Ω–µ–Ω–Ω—ñ: –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è (–±–µ–∑–ø–µ—á–Ω–∞_temp + hysteresis)
   - –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î —á–∞—Å—Ç–æ–º—É –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—é
   
   **–°—Ö–µ–º–∞ –ª–æ–≥—ñ–∫–∏:**
   ```
   –ü–û–ß–ê–¢–û–ö
     ‚Üì
   –ß–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω? (startup_duration)
     ‚îú‚îÄ –¢–ê–ö ‚Üí –£–í–Ü–ú–ö–ù–£–¢–ò —Ä–æ–∑–µ—Ç–∫—É
     ‚îî‚îÄ –ù–Ü ‚Üí –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
              ‚Üì
         –ö–æ—Ç–µ–ª >= –∫—Ä–∏—Ç–∏—á–Ω–∞?
         –ê–ë–û –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä >= –∫—Ä–∏—Ç–∏—á–Ω–∞?
           ‚îú‚îÄ –¢–ê–ö ‚Üí –£–í–Ü–ú–ö–ù–£–¢–ò —Ä–æ–∑–µ—Ç–∫—É (–±–µ–∑–ø–µ–∫–∞)
           ‚îî‚îÄ –ù–Ü ‚Üí –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —É–º–æ–≤–∏ –≤–∏–º–∫–Ω–µ–Ω–Ω—è
                    ‚Üì
               –ö–æ—Ç–µ–ª < –±–µ–∑–ø–µ—á–Ω–∞?
               –Ü –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä < –±–µ–∑–ø–µ—á–Ω–∞?
               –Ü –î–∏–º–∞—Ä < –Ω–∏–∑—å–∫–∞?
                 ‚îú‚îÄ –¢–ê–ö ‚Üí –í–ò–ú–ö–ù–£–¢–ò —Ä–æ–∑–µ—Ç–∫—É
                 ‚îî‚îÄ –ù–Ü ‚Üí –ó–∞–ª–∏—à–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω
   ```

4. **REST API —Ç–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø—Ä–∞—Ü—é—î –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ):**
   - –û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è GET –∑–∞–ø–∏—Ç—ñ–≤ –¥–ª—è API
   - –û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è HTML —Å—Ç–æ—Ä—ñ–Ω–æ–∫
   - –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö —Å—Ç–∞—Ç—É—Å—ñ–≤ –¥–∞—Ç—á–∏–∫—ñ–≤ —Ç–∞ —Ä–æ–∑–µ—Ç–∫–∏
   - –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
   - JSON —Ñ–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –¥–ª—è API
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö

## üõ°Ô∏è –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

- –ü–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏ –ø—Ä–∏ –∑–±–æ—è—Ö –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞—Ç—á–∏–∫—ñ–≤
- –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Ä–æ–∑–µ—Ç–∫–∏
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
- –ë–µ–∑–ø–µ—á–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏
- –ü—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö –∑ –¥–∞—Ç—á–∏–∫–∞ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤—ñ–¥–æ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è
- –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö - –±–µ–∑–ø–µ—á–Ω–µ –≤–∏–º–∫–Ω–µ–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏
- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–∏ –Ω–∞–±–ª–∏–∂–µ–Ω–Ω—ñ –¥–æ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä

## üß™ –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É

**–í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª**
```yaml
test_mode:
  enabled: true
  scenario: "normal"  # –∞–±–æ "critical", "cooling", "startup"
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫**
```bash
python main.py --test-mode --scenario normal
```

**–í–∞—Ä—ñ–∞–Ω—Ç 3: –ó —Ç–µ—Å—Ç–æ–≤–∏–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º–∏**
```bash
python main.py --test-mode --boiler-temp 85.0 --chimney-temp 200.0
```

### –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó

1. **"normal"** - –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞:
   - –ö–æ—Ç–µ–ª: 70-75¬∞C
   - –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä: 65-70¬∞C
   - –î–∏–º–∞—Ä: 150-180¬∞C
   - –†–æ–∑–µ—Ç–∫–∞ –≤–∏–º–∫–Ω–µ–Ω–∞

2. **"critical"** - –∫—Ä–∏—Ç–∏—á–Ω—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏:
   - –ö–æ—Ç–µ–ª: 85-90¬∞C (–∫—Ä–∏—Ç–∏—á–Ω–∞)
   - –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä: 80-85¬∞C (–∫—Ä–∏—Ç–∏—á–Ω–∞)
   - –î–∏–º–∞—Ä: 200-250¬∞C
   - –†–æ–∑–µ—Ç–∫–∞ —É–≤—ñ–º–∫–Ω–µ–Ω–∞ (–±–µ–∑–ø–µ–∫–∞)

3. **"cooling"** - –∑–∞—Ç—É—Ö–∞–Ω–Ω—è:
   - –ö–æ—Ç–µ–ª: 50-60¬∞C
   - –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä: 45-55¬∞C
   - –î–∏–º–∞—Ä: 80-100¬∞C (–Ω–∏–∑—å–∫–∞)
   - –†–æ–∑–µ—Ç–∫–∞ –≤–∏–º–∫–Ω–µ–Ω–∞

4. **"startup"** - –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω:
   - –ö–æ—Ç–µ–ª: 30-40¬∞C (—â–æ–π–Ω–æ –∑–∞—Ç–æ–ø–∏–ª–∏)
   - –¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä: 25-35¬∞C
   - –î–∏–º–∞—Ä: 100-150¬∞C
   - –†–æ–∑–µ—Ç–∫–∞ —É–≤—ñ–º–∫–Ω–µ–Ω–∞ (–ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω)

### –¢–µ—Å—Ç–æ–≤–∞ —Å–∏–º—É–ª—è—Ü—ñ—è

- **–î–∞—Ç—á–∏–∫–∏**: –ì–µ–Ω–µ—Ä—É—é—Ç—å —Ç–µ—Å—Ç–æ–≤—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ –∑–≥—ñ–¥–Ω–æ –∑—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—î–º
- **–†–æ–∑–µ—Ç–∫–∞**: –õ–æ–≥—É—î –∫–æ–º–∞–Ω–¥–∏ –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: –ü—Ä–∞—Ü—é—î –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∑–±–µ—Ä—ñ–≥–∞—î —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
- **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π, –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ

1. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é:**
   ```bash
   python main.py --test-mode --scenario critical
   # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ä–æ–∑–µ—Ç–∫–∞ "—É–≤—ñ–º–∫–Ω—É–ª–∞—Å—è" —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   ```

2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É:**
   ```bash
   python main.py --test-mode
   # –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:8080/status.html
   # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
   ```

3. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤:**
   ```bash
   python main.py --test-mode --scenario normal
   # –ó–∞—á–µ–∫–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –¥–ª—è –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
   # –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:8080/charts.html
   ```

4. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API:**
   ```bash
   curl http://localhost:8080/api/status
   curl http://localhost:8080/api/sensors
   curl http://localhost:8080/api/system
   ```

### –¢–µ—Å—Ç–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏

**test_run.py** - —à–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç:
```python
# –ó–∞–ø—É—Å–∫–∞—î –ø—Ä–æ–≥—Ä–∞–º—É –≤ —Ç–µ—Å—Ç–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ –Ω–∞ 5 —Ö–≤–∏–ª–∏–Ω
# –ü–µ—Ä–µ–≤—ñ—Ä—è—î –æ—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
```

**test_scenarios.py** - —Ç–µ—Å—Ç –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤:
```python
# –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞—î –≤—Å—ñ —Ç–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
# –ü–µ—Ä–µ–≤—ñ—Ä—è—î –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –ª–æ–≥—ñ–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ
```

### –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É

- ‚úÖ –ü—Ä–∞—Ü—é—î –Ω–∞ –±—É–¥—å-—è–∫–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ (–Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω Raspberry Pi)
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞—Ç—á–∏–∫–∏
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞ —Ä–æ–∑–µ—Ç–∫–∞ Tapo
- ‚úÖ –®–≤–∏–¥–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–∫–∏ –±–µ–∑ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π
- ‚ö†Ô∏è –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–∞–∑—É (–º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—É –ë–î)
- ‚ö†Ô∏è –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—É—î —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ (–ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ "TEST MODE")

## üåê REST API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### GET `/api/status`
–ó–∞–≥–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏
```json
{
  "status": "running",
  "timestamp": "2024-01-15T10:30:00",
  "sensors_count": 2,
  "outlet_status": "on"
}
```

### GET `/api/sensors`
–°—Ç–∞—Ç—É—Å–∏ –≤—Å—ñ—Ö –¥–∞—Ç—á–∏–∫—ñ–≤
```json
{
  "sensors": [
    {
      "id": "boiler",
      "type": "DS18B20",
      "name": "–ö–æ—Ç–µ–ª",
      "temperature": 75.5,
      "status": "ok",
      "last_update": "2024-01-15T10:30:00"
    },
    {
      "id": "accumulator_bottom",
      "type": "DS18B20",
      "name": "–¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä (–Ω–∏–∑)",
      "temperature": 68.2,
      "status": "ok",
      "last_update": "2024-01-15T10:30:00"
    },
    {
      "id": "accumulator_top",
      "type": "DS18B20",
      "name": "–¢–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä (–≤–µ—Ä—Ö)",
      "temperature": 72.8,
      "status": "ok",
      "last_update": "2024-01-15T10:30:00"
    },
    {
      "id": "chimney",
      "type": "MAX31855",
      "name": "–î–∏–º–∞—Ä",
      "temperature": 180.5,
      "status": "ok",
      "last_update": "2024-01-15T10:30:00"
    }
  ]
}
```

### GET `/api/sensor/{sensor_id}`
–°—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
```json
{
  "id": "ds18b20_1",
  "type": "DS18B20",
  "name": "–ö—ñ–º–Ω–∞—Ç–∞",
  "temperature": 20.5,
  "status": "ok",
  "last_update": "2024-01-15T10:30:00",
  "error": null
}
```

### GET `/api/outlet`
–°—Ç–∞—Ç—É—Å —Ä–æ–∑–µ—Ç–∫–∏ Sonoff S60 (—Ç–µ–ø–ª–∏–π –ø—ñ–¥–ª–æ–≥–∞)
```json
{
  "status": "on",
  "ip_address": "192.168.1.100",
  "last_update": "2024-01-15T10:30:00",
  "connected": true,
  "device_type": "sonoff_s60_tasmota",
  "reason": "boiler_critical"  // "startup", "boiler_critical", "accumulator_critical"
}
```

### GET `/api/system`
–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏ –æ–ø–∞–ª–µ–Ω–Ω—è
```json
{
  "state": "running",  // "startup", "running", "cooling_down"
  "boiler_temp": 75.5,
  "accumulator_bottom_temp": 68.2,
  "accumulator_top_temp": 72.8,
  "chimney_temp": 180.5,
  "outlet_status": "on",
  "outlet_reason": "boiler_critical",
  "timestamp": "2024-01-15T10:30:00"
}
```

### GET `/api/history/temperatures`
–Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `hours` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 3, –º–∞–∫—Å–∏–º—É–º 24)
- `sensor_id` - ID –¥–∞—Ç—á–∏–∫–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ - –≤—Å—ñ –¥–∞—Ç—á–∏–∫–∏)

```json
{
  "sensor_id": "boiler",
  "period_hours": 3,
  "data": [
    {
      "timestamp": "2024-01-15T10:00:00",
      "temperature": 72.5
    },
    {
      "timestamp": "2024-01-15T10:30:00",
      "temperature": 75.5
    }
  ]
}
```

### GET `/api/history/events`
–Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø–æ–¥—ñ—ó –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `hours` - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 3, –º–∞–∫—Å–∏–º—É–º 24)

```json
{
  "period_hours": 3,
  "events": [
    {
      "timestamp": "2024-01-15T09:15:00",
      "action": "on",
      "reason": "startup"
    },
    {
      "timestamp": "2024-01-15T10:00:00",
      "action": "off",
      "reason": "safe_temperatures"
    },
    {
      "timestamp": "2024-01-15T10:30:00",
      "action": "on",
      "reason": "boiler_critical"
    }
  ]
}
```

### GET `/` –∞–±–æ `/status.html`
HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –ø–æ—Ç–æ—á–Ω–∏–º —Å—Ç–∞–Ω–æ–º —Å–∏—Å—Ç–µ–º–∏
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–∏—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
- –°—Ç–∞—Ç—É—Å —Ä–æ–∑–µ—Ç–∫–∏
- –ü—Ä–∏—á–∏–Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥

### GET `/charts.html`
HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏
- –ì—Ä–∞—Ñ—ñ–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∑–∞ —á–∞—Å–æ–º (Chart.js)
- –ì—Ä–∞—Ñ—ñ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–æ–∑–µ—Ç–∫–∏
- –í–∏–±—ñ—Ä –ø–µ—Ä—ñ–æ–¥—É (3 –≥–æ–¥–∏–Ω–∏, 6 –≥–æ–¥–∏–Ω, 12 –≥–æ–¥–∏–Ω, 24 –≥–æ–¥–∏–Ω–∏)
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É —Ä–æ–∑–µ—Ç–∫–∏

## üíæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—è `temperature_readings`
–ó–±–µ—Ä—ñ–≥–∞—î –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∑ –¥–∞—Ç—á–∏–∫—ñ–≤
```sql
CREATE TABLE temperature_readings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    sensor_id TEXT NOT NULL,
    temperature REAL NOT NULL,
    timestamp DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE INDEX idx_temperature_timestamp ON temperature_readings(timestamp);
CREATE INDEX idx_temperature_sensor ON temperature_readings(sensor_id, timestamp);
```

### –¢–∞–±–ª–∏—Ü—è `outlet_events`
–ó–±–µ—Ä—ñ–≥–∞—î –ø–æ–¥—ñ—ó –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏
```sql
CREATE TABLE outlet_events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    action TEXT NOT NULL,  -- 'on' –∞–±–æ 'off'
    reason TEXT NOT NULL,  -- 'startup', 'boiler_critical', 'accumulator_critical', 'safe_temperatures'
    timestamp DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);
CREATE INDEX idx_outlet_timestamp ON outlet_events(timestamp);
```

## üìä –ú–æ–∂–ª–∏–≤—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

- –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö —É CSV/Excel
- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Telegram/Email
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫—ñ–ª—å–∫–æ—Ö —Ä–æ–∑–µ—Ç–æ–∫
- –†—ñ–∑–Ω—ñ –ø—Ä–æ—Ñ—ñ–ª—ñ –∫–æ–Ω—Ç—Ä–æ–ª—é (–¥–µ–Ω—å/–Ω—ñ—á, –ª—ñ—Ç–æ/–∑–∏–º–∞)
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Home Assistant
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –¥–ª—è API (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- –ú–æ–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

## üöÄ –ï—Ç–∞–ø–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

1. ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–ª–∞–Ω—É** - –ó–ê–í–ï–†–®–ï–ù–û
2. ‚úÖ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É** - –ó–ê–í–ï–†–®–ï–ù–û
   - –°—Ç–≤–æ—Ä–µ–Ω–æ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
   - –°—Ç–≤–æ—Ä–µ–Ω–æ –±–∞–∑–æ–≤—ñ —Ñ–∞–π–ª–∏ (requirements.txt, README.md, .gitignore)
   - –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (setup.sh, setup.bat)
3. ‚úÖ **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥—É–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (SQLite)** - –ó–ê–í–ï–†–®–ï–ù–û
   - `database/db.py` - –ø–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ –∑ SQLite
   - `database/models.py` - –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä —Ç–∞ –ø–æ–¥—ñ–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö
4. ‚úÖ **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥—É–ª—è –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –¥–∞—Ç—á–∏–∫—ñ–≤** - –ó–ê–í–ï–†–®–ï–ù–û
   - `sensors/base.py` - –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–∞—Ç—á–∏–∫–∞
   - `sensors/ds18b20.py` - —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è DS18B20
   - `sensors/max31855.py` - —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è MAX31855
   - `sensors/sensor_manager.py` - –º–µ–Ω–µ–¥–∂–µ—Ä –¥–∞—Ç—á–∏–∫—ñ–≤
5. ‚¨ú **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥—É–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è Sonoff S60 –∑ Tasmota** - –ü–û–¢–†–Ü–ë–ù–ê –ê–î–ê–ü–¢–ê–¶–Ü–Ø
   - `controllers/sonoff_controller.py` - –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–æ—é —á–µ—Ä–µ–∑ Tasmota HTTP API
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è —á–µ—Ä–µ–∑ HTTP –∫–æ–º–∞–Ω–¥–∏
   - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É
   - –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ MQTT
6. ‚¨ú **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É –¥–ª—è Sonoff** - –ü–û–¢–†–Ü–ë–ù–ê –ê–î–ê–ü–¢–ê–¶–Ü–Ø
   - `tests/test_sensors.py` - —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞—Ç—á–∏–∫–∏ (DS18B20, MAX31855) ‚úÖ
   - `tests/test_sonoff.py` - —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä Sonoff (–∑–∞–º—ñ—Å—Ç—å test_tapo.py)
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ (normal, critical, cooling, startup)
7. ‚úÖ **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ—Å–Ω–æ–≤–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é** - –ó–ê–í–ï–†–®–ï–ù–û
   - `controllers/temperature_controller.py` - –ø–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é
   - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —É–º–æ–≤ –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è
   - –ì—ñ—Å—Ç–µ—Ä–µ–∑–∏—Å –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏
   - –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É
8. ‚úÖ **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É –±–∞–∑—É** - –ó–ê–í–ï–†–®–ï–ù–û
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑—á–∏—Ç—É–≤–∞–Ω–Ω—ñ
   - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è —Ä–æ–∑–µ—Ç–∫–∏
9. ‚úÖ **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è REST API —Å–µ—Ä–≤–µ—Ä–∞** - –ó–ê–í–ï–†–®–ï–ù–û
   - `api/server.py` - –ø–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è Flask —Å–µ—Ä–≤–µ—Ä–∞
   - –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ (/api/status, /api/sensors, /api/system, /api/history/*)
   - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ CORS
10. ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è HTML —Å—Ç–æ—Ä—ñ–Ω–æ–∫** - –ó–ê–í–ï–†–®–ï–ù–û
    - `web/templates/status.html` - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –∑ –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º
    - –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö 4 –¥–∞—Ç—á–∏–∫—ñ–≤: –∫–æ—Ç–µ–ª, —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä (–Ω–∏–∑), —Ç–µ—Ä–º–æ–∞–∫—É–º—É–ª—è—Ç–æ—Ä (–≤–µ—Ä—Ö), –¥–∏–º–æ—Ö—ñ–¥
    - `web/templates/charts.html` - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –≥—Ä–∞—Ñ—ñ–∫–∞–º–∏ (Chart.js)
    - –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—Å—ñ—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∑ –ª—é–¥—Å—å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–º–∏ –¥–∞—Ç—á–∏–∫—ñ–≤
    - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤–∏–±–æ—Ä—É –ø–µ—Ä—ñ–æ–¥—É –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ (3/6/12/24 –≥–æ–¥–∏–Ω–∏)
11. ‚úÖ **–î–æ–¥–∞–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó** - –ó–ê–í–ï–†–®–ï–ù–û
    - `utils/logger.py` - —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è
    - `utils/config_manager.py` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
    - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
12. ‚úÖ **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ—á–∏—â–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö** - –ó–ê–í–ï–†–®–ï–ù–û
    - –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –≤ –≥–æ–ª–æ–≤–Ω–æ–º—É —Ü–∏–∫–ª—ñ
    - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
13. ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤** - –ó–ê–í–ï–†–®–ï–ù–û
    - `tests/test_run.py` - —à–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–∏ (5 —Ö–≤–∏–ª–∏–Ω)
    - `tests/test_scenarios.py` - —Ç–µ—Å—Ç –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ (normal, critical, cooling, startup)
    - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤, –¥–∞—Ç—á–∏–∫—ñ–≤, –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–æ–∫
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä—ñ—é
14. ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è systemd —Å–µ—Ä–≤—ñ—Å —Ñ–∞–π–ª—É** - –ó–ê–í–ï–†–®–ï–ù–û
    - `tapo-temperature.service` - systemd —Å–µ—Ä–≤—ñ—Å —Ñ–∞–π–ª
    - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫—É
    - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —á–µ—Ä–µ–∑ systemctl
    - `INSTALL.md` - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—é
15. ‚¨ú **–ê–¥–∞–ø—Ç–∞—Ü—ñ—è –∫–æ–¥—É –¥–ª—è Sonoff S60 –∑ Tasmota** - –í –ü–†–û–¶–ï–°–Ü
    - ‚¨ú –°—Ç–≤–æ—Ä–∏—Ç–∏ `controllers/sonoff_controller.py`
    - ‚¨ú –û–Ω–æ–≤–∏—Ç–∏ `main.py` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Sonoff –∑–∞–º—ñ—Å—Ç—å Tapo
    - ‚¨ú –°—Ç–≤–æ—Ä–∏—Ç–∏ `tests/test_sonoff.py`
    - ‚¨ú –û–Ω–æ–≤–∏—Ç–∏ `requirements.txt` (–¥–æ–¥–∞—Ç–∏ requests, –ø—Ä–∏–±—Ä–∞—Ç–∏ PyTapo)
    - ‚¨ú –û–Ω–æ–≤–∏—Ç–∏ `config.example.yaml`
16. ‚¨ú **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è** - –ù–ï –ü–û–ß–ê–¢–û
    - –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
    - –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—ñ (Sonoff S60 –∑ Tasmota)
17. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó** - –û–ù–û–í–õ–ï–ù–û –î–õ–Ø SONOFF
    - README.md —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
    - INSTALL.md —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ –ø–æ–∫—Ä–æ–∫–æ–≤–æ—é —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—î—é –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
    - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—é –¥–∞—Ç—á–∏–∫—ñ–≤ (—Å—Ö–µ–º–∏, –ø—ñ–Ω–∏ GPIO)
    - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é systemd —Å–µ—Ä–≤—ñ—Å—É
    - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—é
    - –î–æ–¥–∞–Ω–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø–æ –ø—Ä–æ—à–∏–≤—Ü—ñ Sonoff S60 –∑ Tasmota
    - –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Tasmota HTTP API

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

### –ó–∞–ø—É—Å–∫ —è–∫ systemd —Å–µ—Ä–≤—ñ—Å:
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å —Ñ–∞–π–ª—É `tapo-temperature.service`
- –†–æ–∑–º—ñ—â–µ–Ω–Ω—è –≤ `/etc/systemd/system/`
- –ö–æ–º–∞–Ω–¥–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:
  ```bash
  sudo systemctl enable tapo-temperature.service
  sudo systemctl start tapo-temperature.service
  sudo systemctl status tapo-temperature.service
  ```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Raspberry Pi:
- –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–ª—è GPIO —Ç–∞ SPI
- –î–ª—è DS18B20 –ø–æ—Ç—Ä—ñ–±–Ω–æ —É–≤—ñ–º–∫–Ω—É—Ç–∏ 1-Wire —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `sudo raspi-config` ‚Üí Interface Options ‚Üí 1-Wire
- –î–ª—è MAX31855 –ø–æ—Ç—Ä—ñ–±–Ω–æ —É–≤—ñ–º–∫–Ω—É—Ç–∏ SPI: `sudo raspi-config` ‚Üí Interface Options ‚Üí SPI
- –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–æ –≥—Ä—É–ø `gpio` —Ç–∞ `spi`: `sudo usermod -a -G gpio,spi $USER`

### –ú–µ—Ä–µ–∂–∞ —Ç–∞ –±–µ–∑–ø–µ–∫–∞:
- –î–ª—è Sonoff S60 –∑ Tasmota –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π Wi-Fi –∑–≤'—è–∑–æ–∫
- Tasmota –ø—ñ–¥—Ç—Ä–∏–º—É—î HTTP API (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) —Ç–∞ MQTT (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ –≤–∫–∞–∑–∞–Ω–æ–º—É –ø–æ—Ä—Ç—ñ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 8080)
- –î–ª—è –±–µ–∑–ø–µ–∫–∏ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ firewall –ø—Ä–∞–≤–∏–ª–∞ –∞–±–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏–π IP –¥–ª—è Sonoff S60

### –†–æ–∑—Ä–æ–±–∫–∞:
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python
- MAX31855 –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ç–µ—Ä–º–æ–ø–∞—Ä–∏ —Ç–∏–ø—É K, J, N, T, S, R, E (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó)
- –î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ –º–æ–∂–Ω–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ: `python main.py`
- **–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ Raspberry Pi —Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è**: `python main.py --test-mode`
- –¢–µ—Å—Ç–æ–≤–∏–π —Ä–µ–∂–∏–º –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–ª—è—Ç–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ –±—É–¥—å-—è–∫–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ
- Tasmota API –∫–æ–º–∞–Ω–¥–∏:
  - –í–∫–ª—é—á–∏—Ç–∏: `curl "http://IP/cm?cmnd=Power%20On"`
  - –í–∏–º–∫–Ω—É—Ç–∏: `curl "http://IP/cm?cmnd=Power%20Off"`
  - –°—Ç–∞—Ç—É—Å: `curl "http://IP/cm?cmnd=Status"`

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:
- SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `data/`
- –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö –∫–æ–∂–Ω—É –≥–æ–¥–∏–Ω—É
- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Ä–æ–±–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ

### –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- –î–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://raspberry-pi-ip:8080/`
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å—É: `http://raspberry-pi-ip:8080/status.html`
- –°—Ç–æ—Ä—ñ–Ω–∫–∞ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤: `http://raspberry-pi-ip:8080/charts.html`
- –ì—Ä–∞—Ñ—ñ–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Chart.js (CDN)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Å—Ç–∞—Ç—É—Å—É
- –£ —Ç–µ—Å—Ç–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä "TEST MODE"
